<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>com.tlv8.doc.Doc</title>
<link rel="STYLESHEET" type="text/css" href="../common/css/common.css"></link>
</head>

<body>
<font size="5px"><b>Class com.tlv8.doc.Doc</b></font><br/>
<br/> 
<br/>
<table width="750px" border="0">
  <tr>
    <td colspan="2" class="tab_head">&nbsp;Class Summary</td>
  </tr>
  <tr>
    <td width="210">&nbsp;</td>
    <td width="538">
	  <a href="#com_justep_yn_doc_Doc"><font size="5px"><b>com.tlv8.doc.Doc</b></font>()</a><br/>
用于创建数据结构</td>
  </tr>
</table>
<br/>
<table >
  <tr>
    <td colspan="2" class="tab_head">&nbsp;Field Summary</td>
  </tr>
  <tr>
    <td width="209" class="td_left">&lt;<b>private</b>&gt; Docs&nbsp;</td>
    <td width="539"><a href="#com_justep_yn_action_Table_name">docs</a><br/>
      文档控制对象</td>
  </tr>
  <tr>
    <td width="209" class="td_left">&lt;<b>private</b>&gt; Docinfo&nbsp;</td>
    <td width="539"><a href="#com_justep_yn_action_Table_rowIds">info</a><br/>
	文档信息</td>
  </tr>
</table>
 <br/>
<table >
  <tr>
    <td colspan="2" class="tab_head">&nbsp;Method Summary</td>
  </tr>
  <tr>
    <td class="td_left">InputStream&nbsp;</td>
    <td><a href="#inputStream_download">download(Boolean isHttps, String versionID,String partType)</a><br/>
		下载文件    </td>
  </tr>
  <tr>
    <td width="207" class="td_left">void&nbsp;</td>
    <td width="541"><a href="#com_justep_yn_doc_Doc_downloads">download(Boolean isHttps, OutputStream outputStream,String versionID, String partType)</a><br/>
	文件下载到outputstream</td>
  </tr>
  <tr>
    <td width="207" class="td_left">String&nbsp;</td>
    <td width="541"><a href="#com_justep_yn_doc_getdownloadURL">getdownloadURL(Boolean isHttps, String versionID,String partType)</a><br/>
	获取文件下载地址</td>
  </tr>
  <tr>
    <td class="td_left">void &nbsp;</td>
    <td><a href="#upload_inputStream">upload(boolean isHttps, InputStream inputStream)</a><br/>
		inputStream上传到文档服务	</td>
  </tr>
  <tr>
    <td class="td_left">void&nbsp;</td>
    <td><a href="#upload_file">upload(boolean isHttps, File file)</a><br/>
		上传文件	</td>
  </tr>
  <tr>
    <td width="207" class="td_left">String&nbsp;</td>
    <td width="541"><a href="#com_justep_yn_action_Table_setCell">getsID()</a><br/>
      获取文档ID，有相应的set方法</td>
  </tr>
  <tr>
    <td width="207" class="td_left">String&nbsp;</td>
    <td width="541"><a href="#com_justep_yn_action_Table_getCell">getsDocName()</a><br/>
	获取文档名称，有相应的set方法</td>
  </tr>
  <tr>
    <td width="207" class="td_left">Float&nbsp;</td>
    <td width="541"><a href="#com_justep_yn_action_Table_setRowIds">getsSize()</a><br/>
	获取文档大小，有相应的set方法</td>
  </tr>
  <tr>
    <td class="td_left">String&nbsp;</td>
    <td><a href="#getKind">getsKind()</a><br/>
		获取文档类型
	，有相应的set方法</td>
  </tr>
  <tr>
    <td class="td_left">String&nbsp;</td>
    <td><a href="#getKind">getsDocPath()</a><br/>
		获取文档位置
	，有相应的set方法</td>
  </tr>
   <tr>
    <td class="td_left">String&nbsp;</td>
    <td><a href="#getKind">getsDocDisplayPath()</a><br/>
		获取文档位置名称
	，有相应的set方法</td>
  </tr>
   <tr>
    <td class="td_left">String&nbsp;</td>
    <td><a href="#getKind">getsFileID()</a><br/>
		获取文件ID
	，有相应的set方法</td>
  </tr>
   <tr>
    <td class="td_left">String&nbsp;</td>
    <td><a href="#getKind">getCacheName()</a><br/>
		获取文件上传时的ID
	，有相应的set方法</td>
  </tr>
  <tr>
    <td class="td_left">void&nbsp;</td>
    <td><a href="#getKind">commitFile()</a><br/>
		提交文件，提交文件后文件ID改为与空间-流水</td>
  </tr>
  <tr>
    <td width="207" class="td_left">Docs&nbsp;</td>
    <td width="541"><a href="#com_justep_yn_action_Table_getRowIds">getDocs() </a><br/>
	获取文档控制对象</td>
  </tr>
</table>
 <br/>
<div class="tab_head">&nbsp;C<a name="com_justep_yn_doc_Doc" id="com_justep_yn_doc_Doc"></a>lass Detail </div>
	<p><font size="5px"><b>com.tlv8.doc.Doc</b></font><br/>
用于创建数据结构</p>
	<p>实例化方法: Doc(Docinfo info, Docs docs)</p>
	<p>常用实例：Doc doc = Docs.queryDocById(docID);<br/>
      <br/>
           </p>
	<div class="tab_head">&nbsp;Method Detail </div>
 <div>
 	<p>&lt;<b>public</b>&gt;{<span class="td_left">InputStream</span>}download(Boolean isHttps, String versionID,String partType)<a name="inputStream_download" id="inputStream_download"></a><br/>
 	文件下载</p>
 	<b>参数：</b>&nbsp;isHttps【Boolean】：是否为https协议传输<br/>
 	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   versionID【String】:下载文件的版本 如：
   1,2,3或
   last<br/>
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   partType【String】:下载文件的版本 如：
   content&lt;未修改版本使用&gt;或
   version
   <p><b>例子：</b></p>
 	<p>1、已知docID：&nbsp;Doc doc = Docs.queryDocById(docID);<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="td_left">InputStream</span> inputstream = doc.download(false, "last","content");
   或 doc.download(false, null,null);</p>
 	<p><br/>
 	  2、已知fileID： List li = DocDBHelper.queryDocID(fileID,"/root");<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map m = (Map)li.get(0);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String docID = m.get("sID").toString();//注意：Oracle数据库时 sID为SID<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Doc doc = Docs.queryDocById(docID);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="td_left">InputStream</span> inputstream = doc.download(false, "last","content");<br/>
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;或 <span class="td_left">InputStream</span> inputstream = doc.download(false, null,null);</p>
 	<hr/>
</div>
<div>
 	<p>&lt;<b>public</b>&gt;{void}download(Boolean isHttps, OutputStream outputStream,String versionID, String partType)<a name="com_justep_yn_doc_Doc_downloads" id="com_justep_yn_doc_Doc_downloads"></a><br/>
 	文件下载到
 	OutputStream</p>
 	<p><b>参数：</b>&nbsp;isHttps【Boolean】：是否为https协议传输<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   outputStream【OutputStream】:下载文件装载文件流<br/>
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;versionID【String】:下载文件的版本 如： 1,2,3或 last<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   partType【String】:下载文件的版本 如：
   content&lt;未修改版本使用&gt;或
   version </p>
 	<p>1、已知docID：&nbsp;Doc doc = Docs.queryDocById(docID);<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ByteArrayOutputStream  out = new ByteArrayOutputStream ();<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doc.download(false, out,"last","content");
  或 doc.download(false, null,null);</p>
 	<p><br/>
 	  2、已知fileID： Map m = new HashMap();<br/>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.put(&quot;sDocPath&quot;, DocPath);<br/>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.put(&quot;sFileID&quot;, fileID);<br/>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Docinfo di = new Docinfo(m);<br/>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AbstractDoc doc = new AbstractDoc(di);<br/>
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doc.download(false, out, null, null);</p>
 	<p><br/>
      <br/>
    </p>
 	<hr/>
</div>
<div>
 	<p>&lt;<b>public</b>&gt;{String}getdownloadURL(Boolean isHttps, String versionID,String partType)<a name="com_justep_yn_doc_getdownloadURL" id="com_justep_yn_doc_getdownloadURL"></a><br/>
    获取下载地址 </p>
 	<p><b>参数：</b>&nbsp;isHttps【Boolean】：是否为https协议传输<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   versionID【String】:下载文件的版本 如：
   1,2,3或
   last<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
   partType【String】:下载文件的版本 如：
   content&lt;未修改版本使用&gt;或
   version <br/>
      <br/>
  </p>
 	<hr/>
</div>
<br/>
<div>
	void<a name="upload_inputStream" id="upload_inputStream"></a>upload(boolean isHttps, InputStream inputStream)<br/>
	上传文件<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;isHttps<br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{boolean}是否为https协议传输<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;inputStream<br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{InputStream}上传的文件流<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{void}<br/>
	<br/>
	<hr/>
</div>
<div>
	String<a name="upload_file" id="upload_file"></a>upload(boolean isHttps, File file)<br/>
	上传文件<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;isHttps<br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{boolean}是否为https协议传输<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;file<br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{File}上传的文件<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{String}<br/>
	<br/>
	<hr/>
</div>
</body>
</html>
