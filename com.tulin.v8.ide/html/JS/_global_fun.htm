<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>_global_fun_</title>
<link rel="STYLESHEET" type="text/css" href="../common/css/common.css"></link>
</head>

<body>
<font size="5px"><b>Class _global_fun_</b></font><br/>
全局函数<br/> <br/>
<table width="750px" border="0">
  <tr>
    <td colspan="2" class="tab_head">&nbsp;Class Summary</td>
  </tr>
  <tr>
    <td width="151">&nbsp;</td>
    <td width="583">
	<a href="#justep_yn_global_fun_">_global_fun_</a><br/>
	全局函数
	</td>
  </tr>
</table>
<br/>
<table >
  <tr>
    <td colspan="2" class="tab_head">&nbsp;Method Summary</td>
  </tr>
  <tr>
    <td width="220" class="td_left">HTMLElement&nbsp;</td>
    <td width="528"><a href="#">J$(id)</a><br/>
	获取document对象，相当于document.getElementById(id);
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">HTMLElements&nbsp;</td>
    <td width="528"><a href="#">J$n(tagName)</a><br/>
	获取document对象数组，相当于document.getElementsByTagName(tagName);
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">string&nbsp;</td>
    <td width="528"><a href="#">J_u_encode(str)</a><br/>
	将字符串UTF-8编码，执行两次encodeURIComponent；
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">string&nbsp;</td>
    <td width="528"><a href="#">J_u_decode(str)</a><br/>
	将字符串UTF-8解码，执行两次decodeURIComponent，解码失败时返回原文；
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">window&nbsp;</td>
    <td width="528"><a href="#">topparent</a><br/>
	顶层窗口对象；
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">string&nbsp;</td>
    <td width="528"><a href="#justep_yn_global_fun_trim">trim(text)</a><br/>
	去除字符串两边的空格
	</td>
  </tr>
   <tr>
    <td width="220" class="td_left">string&nbsp;</td>
    <td width="528"><a href="#justep_yn_global_fun_str_trim">String.trim()</a><br/>
	去除字符串两边的空格
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">string&nbsp;</td>
    <td width="528"><a href="#justep_yn_global_fun_str_ltrim">String.ltrim()</a><br/>
	去除字符串左边的空格
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">string&nbsp;</td>
    <td width="528"><a href="#justep_yn_global_fun_str_rtrim">String.rtrim()</a><br/>
	去除字符串右边的空格
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">string&nbsp;</td>
    <td width="528"><a href="#justep_yn_global_fun_reMoveStr">reMoveStr(str1, str2)</a><br/>
	移除字符串
	</td>
  </tr>
   <tr>
    <td width="220" class="td_left">string&nbsp;</td>
    <td width="528"><a href="#justep_yn_global_fun_replaceFirst">replaceFirst(str, p, m)</a><br/>
	替换第一个字符串
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">void&nbsp;</td>
    <td width="528"><a href="#justep_yn_global_fun_checkLogin">checkLogin()</a><br/>
	检查是否已经登录(限制系统页面portal外未登录访问)
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">void&nbsp;</td>
    <td width="528"><a href="#justep_yn_global_fun_closeself">closeself()</a><br/>
	关闭当前窗口
	</td>
  </tr>
  <tr>
    <td width="220" class="td_left">void&nbsp;</td>
    <td width="528"><a href="#_global_fun_addEvent">addEvent(elm, evType, fn, useCapture)</a><br/>
	给页面元素添加事件</td>
  </tr>
  <tr>
    <td width="220" class="td_left">void&nbsp;</td>
    <td width="528"><a href="#_global_fun_removeEvent">removeEvent(obj, type, fn, cap)</a><br/>
	移除页面元素的事件</td>
  </tr>
  <tr>
    <td width="220" class="td_left">void&nbsp;</td>
    <td width="528"><a href="#_global_fun_sAlert">sAlert(message, time)</a><br/>
	页面右上角提示</td>
  </tr>
  <tr>
    <td width="220" class="td_left">void&nbsp;</td>
    <td width="528"><a href="#_global_fun_mAlert">mAlert(message, img)</a><br/>
	自定义提示(类似alert)</td>
  </tr>
  <tr>
    <td width="220" class="td_left">void&nbsp;</td>
    <td width="528"><a href="#_global_fun_Confirm">Confirm(msg,okcallFn,cancelcallFn,img)</a><br/>
	自定义选择提示(类似confirm)</td>
  </tr>
</table>
 <br/>
 <div class="tab_head">&nbsp;C<a name="justep_yn_global_fun_"></a>lass Detail </div>
	_global_fun_<br/>
	全局函数，只要引用common.main.js就可以直接使用<br/>
	<br/>
<div class="tab_head">&nbsp;Method Detail </div>
<div>
	string<a name="justep_yn_global_fun_trim"></a> trim(text)<br/>
	去除字符串两边的空格<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>text</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>需要去掉空格的字符串<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var mystr=trim(" aaabbbddkk ")
	<br/>
	<br/>
	<hr/>
</div>
<div>
	string<a name="justep_yn_global_fun_str_trim"></a> str.trim()<br/>
	去除字符串两边的空格<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var str=" aaabbbddkk ";<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var mystr=str.trim();	<br/>
	<br/>
	<hr/>
</div>
<div>
	string<a name="justep_yn_global_fun_str_ltrim"></a> str.ltrim()<br/>
	去除字符串左边的空格<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var str=" aaabbbddkk";<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var mystr=str.ltrim();	<br/>
	<br/>
	<hr/>
</div>
<div>
	string<a name="justep_yn_global_fun_str_rtrim"></a> str.rtrim()<br/>
	去除字符串右边的空格<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var str="aaabbbddkk ";<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var mystr=str.rtrim();	<br/>
	<br/>
	<hr/>
</div>
<div>
	string<a name="justep_yn_global_fun_reMoveStr"></a> reMoveStr(str1, str2)<br/>
	移除字符串<br/><br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>str1</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>主字符串<br/>
	<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>str2</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>需要从主字符串中移除的字符串<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	reMoveStr('stringStringMyStringMyString','My')
	<br/>
	<br/>
	<hr/>
</div>
<div>
	string<a name="justep_yn_global_fun_replaceFirst"></a> replaceFirst(str, p, m)<br/>
	替换第一个字符串<br/><br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>str</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>主字符串<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>p</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>主字符串中需要被替换的字符串<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>m</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>替换的字符串<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	replaceFirst('aabbccdd', 'cc', 'kk')
	<br/>
	<br/>
	<hr/>
</div>
<div>
	void<a name="justep_yn_global_fun_checkLogin"></a> checkLogin()<br/>
	检查是否已经登录(限制系统页面portal外未登录访问)<br/><br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{void}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	checkLogin();
	<br/>
	<br/>
	<hr/>
</div>
<div>
	void<a name="justep_yn_global_fun_closeself"></a> closeself()<br/>
	关闭当前窗口(portal内使用不起作用)<br/><br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{void}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	closeself()
	<br/>
	<br/>
	<hr/>
</div>
<div>	void<a name="_global_fun_addEvent"></a> addEvent(elm, evType, fn, useCapture)<br/>
	给页面元素添加事件<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>elm</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{Element object}<b>[required]</b>页面元素对象<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>evType</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>添加的事件类型<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>fn</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>添加的自定义事件<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>useCapture</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>是否覆盖该对象的同类型事件<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{void}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	&lt;div id=&quot;myDiv&quot;&gt;&lt;/div&gt;<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var myDivObj=document.getElementById(&quot;myDiv&quot;); <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	addEvent(myDivObj,&quot;mouseup&quot;,fnMouseup,false);<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	function  fnMouseup(){<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	//你的自定义事件内容写在这里<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	}<br/>
	<br/>
	<hr/>
</div>
<div>	void<a name="_global_fun_removeEvent"></a> removeEvent(obj, type, fn, cap)<br/>
	移除页面元素事件<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>obj</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{Element object}<b>[required]</b>页面元素对象<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>type</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>移除的事件类型<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>fn</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>移除的自定义事件<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>cap</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}是否移除该对象的全部该类型监听事件<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{void}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	&lt;div id=&quot;myDiv&quot;&gt;&lt;/div&gt;<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	var myDivObj=document.getElementById(&quot;myDiv&quot;); <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	addEvent(myDivObj,&quot;mouseup&quot;,fnMouseup,false);<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	function  fnMouseup(){<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	//你的自定义事件内容写在这里<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	}<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	removeEvent(myDivObj,"mouseup",fnMouseup,false);<br/>
	<br/>
	<hr/>
</div>
<div>	void<a name="_global_fun_sAlert" id="_global_fun_sAlert"></a> sAlert(message, time)<br/>
  页面右上角提示<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>message</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>提示内容<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>time</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{number}<b>[required]</b>提示时间(按毫秒计)<br/>
	<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{void}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	sAlert(&quot;操作成功!&quot;,500);<br/>
	<br/>
	<hr/>
</div>
<div>	void<a name="_global_fun_mAlert" id="_global_fun_mAlert"></a> mAlert(message,image)<br/>
  自定义提示(类似alert)<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>message</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>提示信息<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>image</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}自定义图片路径<br/>
	<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{void}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mAlert(&quot;操作成功！&quot;,&quot;../../common/image/toolbar/action/test.gif&quot;);<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mAlert(&quot;操作成功！&quot;);<br/>
	<br/>
	<hr/>
</div>
<div>	void<a name="_global_fun_Confirm" id="_global_fun_Confirm"></a> Confirm(msg,okcallFn,cancelcallFn,img)<br/>
  自定义选择提示(类似confirm)<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Parameters:</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>msg</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>提示信息<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;
	<b>okcallFn</b><br/> 
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}<b>[required]</b>点击确认时执行的函数<br/>
	&nbsp;&nbsp;&nbsp;&nbsp; <b>cancellFn</b><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}点击取消时执行的函数<br/>
&nbsp;&nbsp;&nbsp;&nbsp; <b>img</b><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{string}自定义图片路径<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Returns:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	{void}<br/>
	<br/>
	&nbsp;&nbsp;
	<b>Example:</b> <br/>
	&nbsp;&nbsp;&nbsp;&nbsp;Confirm('确定删除数据吗 ?',deleteData,null,&quot;../../common/image/toolbar/action/ask.gif&quot;);<br/>
	&nbsp;&nbsp;&nbsp;&nbsp;Confirm('确定删除数据吗 ?',deleteData);<br/>
	<br/>
	<hr/>
</div>
</body>
</html>
