<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>tlv8.MobileTree</title>
<link rel="STYLESHEET" type="text/css" href="../common/css/common.css"></link>
</head>

<body>
	<font size="5px"><b>Class tlv8.MobileTree</b></font><br/>
移动版树组件<br/> 
<br/>
<table width="750px" border="0">
  <tr>
    <td colspan="2" class="tab_head">&nbsp;Class Summary</td>
  </tr>
  <tr>
    <td width="151" align="right">MobileTree&nbsp;</td>
    <td width="583">
	<a href="#justep_yn_MobileTree">tlv8.MobileTree()</a><br/>
	流程控件</td>
  </tr>
</table>
<br/>		
		
		<div style="HEIGHT: 20px"></div>
		<table width="750px" border="0">
			<tr>
				<td colspan="2" class="tab_head">Method Summary</td>
			</tr>
			<tr>
				<td width="220" class="td_left">void</td>
				<td>
					<A href="#initdiv">initTree(setting)</a><br/>加载树（初始化）</td>
			</tr>
			<tr>
				<td class="td_left">String</td>
				<td>
					<A href="#loadFoliagediv">loadFoliage(nowId,tree)</a><br/>获取到加载树的枝叶的数据</td>
			</tr>
			<tr>
				<td class="td_left">Array</td>
				<td>
					<A href="#datasToNodesdiv">datasToNodes(tdatas, id, pid, name)</a><br/>把字符串数据转换成树节点型数组</td>
			</tr>
			<tr>
				<td class="td_left">Array</td>
				<td>
					<A href="#getRootNodesdiv">getRootNodes(nodes)</a><br/>得到根节点的方法</td>
			</tr>
			<tr>
				<td class="td_left">Array</td>
				<td>
					<A href="#filterVisibleNodesdiv">filterVisibleNodes(nodes, closeicon, openicon)</a><br/>过滤出可见节点</td>
			</tr>
			<tr>
				<td class="td_left">void</td>
				<td>
					<A href="#setNodeIcondiv">setNodeIcon(node, closeicon, openicon,childrenCount)</a><br/>设置树节点的图标</td>
			</tr>
			<tr>
				<td class="td_left">void</td>
				<td>
					<A href="#listenTreediv">listenTree(context, mVisibleNodes, mAllNOdes, tree, closeicon, openicon)</a><br/>树节点的监听方法</td>
			</tr>
			<tr>
				<td class="td_left">void</td>
				<td>
					<a>changeImg(node)</a><br/>改变节点的图标</td>
			</tr>
			<tr>
				<td class="td_left">void</td>
				<td>
					<A href="#showTreediv">showTree(node,tree)</a><br/>展开树节点</td>
			</tr>
			<tr>
				<td class="td_left">void</td>
				<td>
					<A href="#closeTreediv">closeTree(node,tree)</a><br/>关闭树节点</td>
			</tr>
			<tr>
				<td class="td_left">String</td>
				<td>
					<a>createFoliagHtml(mVisibleNodes)</a><br/>加载树枝叶的HTML</td>
			</tr>
			<tr>
				<td class="td_left">String</td>
				<td>
					<a>createTreeHtml(mVisibleNodes,context)</a>初始化树的HTML</td>
			</tr>
		</table>
		<div style="HEIGHT: 20px"></div>
		<table >
   <tr>
     <td colspan="2" class="tab_head">&nbsp;Event Summary</td>
   </tr>
   <tr>
     <td width="220" class="td_left">&nbsp;</td>
     <td width="528">
       <strong><A href="#event:onClick">onClick</A></strong>(event, treeId, node)<br/>
       <strong>[回调型事件]</strong>单击节点事件</td>
   </tr>
   </table>
		<hr >
		<div class="tab_head">&nbsp;C<a name="justep_yn_MobileTree"></a>lass Detail </div>
		<div style="HEIGHT: 20px"></div>
		<div id="JustepYnMobileTreediv">
			<h2>JustepYnMobileTree</h2>
			<p> var mTree=new tlv8.MobileTree(); //实例化一棵树</p>
			<p>mTree.initTree(setting); //通过树对象调用初始化的方法传入setting</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="treeNodediv">
			<h2>treeNode</h2>
			<p>var node=new treeNode(); //创建一个树对象</p>
			<p>node.id; /*id*/</p>
			<p>node.parentId; /*父id*/</p>
			<p>node.name; /*内容*/</p>
			<p>node.isExPand = false; /*展开状态*/</p>
			<p>node.icon; /*图标*/</p>
			<p>node.parent = null; /*父亲*/</p>
			<p>node.children = new Array(); /*孩子*/</p>
			<p>node.hasChildren=0; /*孩子数量*/</p>
			<p>node.isRoot(); //node是否是根节点返回true或false</p>
			<p>node.isParentExpand();//node的父节点是否是展开状态，返回true或false</p>
			<p>node.isLeaf();//node是否是叶子节点，返货true或者false</p>
			<p>node.getLevel();//得到node的层级，层级从1开始</p>
			<p>node.isVisible();//node是否是可见节点，返回true或false</p>
			<p>};</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="settingdiv">
			<h2>setting</h2>
			<p>var setting = {</p>
			<p>databaseName:"system",//数据库</p>
			<p>tableName : "SA_OPORG",//对应的表名</p>
			<p>id : "SID", // 设置构建树的id</p>
			<p>parentid:"SPARENT", //父节点字段</p>
			<p>name : "SNAME", //树要显示的名称字段</p>
			<p>rootFilter : " SPARENT is null", //跟节点条件</p>
			<p>otherConditions:"SVALIDSTATE='1'", //其他条件 </p>
			<p>orderby : "SSEQUENCE asc", //排序字段</p>
			<p> rootDefaulExpand:false,//根节点是否默认展开,1=是，0=否 或者摄者为true或者false</p>
			<p>context:"#tree_content", //树加载在哪个div</p>
			<p>closeicon:"images/tree_ez.png", //关闭的图标</p>
			<p>openicon:"images/tree_ex.png" //展开的图标</p>
			<p>};</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="initdiv">
			<h2>void initTree(setting)</h2>
			<p>initTree(setting)  //初始化树的方法，通过树对象调用，传入的参数是setting</p>
			<p>通过传入的setting参数，决定树的加载</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="loadFoliagediv">
			<h2>String loadFoliage(nowId,tree)</h2>
			<p> 加载树的枝叶的方法，获取到当前元素为的孩子的数据</p>
			<p>Parameters:</p>
            <p>Returns:</p> 
            <p>{string} 此方法的返回值为String</p>
            <p>Example:</p>
            <p>动态请求服务器数据</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="datasToNodesdiv">
			<h2>Arry datasToNodes(tdatas, id, pid, name)</h2>
			<p>把String类型的数据转换成treeNode树节点型数组的方法</p>
			<p>Parameters:</p>
			<p>第一个参数：tdatas</p>
			<p>通过ajax请求到的String类型的数据</p>
			<p>第二个参数：id</p>
			<p>数据中的ID字段（String类型）</p>
			<p>第三个参数：pid</p>
			<p>数据中的PrentID字段（String类型）</p>
			<p>第四个参数：name</p>
			<p>数据中的name字段需要展示的名称（String类型）</p>
            <p>Returns:</p> 
            <p>{string} 此方法的返回值为treeNode树节点对象数组</p>
            <p>Example:</p>
            <p>转换数据类型并确定节点间的关系</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="getRootNodesdiv">
			<h2>Arry getRootNodes(nodes)</h2>
			<p>得到节点数组中的所有根节点</p>
			<p>Parameters:</p>
			<p>参数：nodes</p>
			<p>通过String数据转换的节点数组</p>
            <p>Returns:</p> 
            <p>{string} 此方法的返回值为treeNode树节点对象数组</p>
            <p>Example:</p>
            <p>返回根节点</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="filterVisibleNodesdiv">
			<h2>Arry filterVisibleNodes(nodes, closeicon, openicon)</h2>
			<p>得到节点数组中可见节点</p>
			<p>Parameters:</p>
			<p>第一个参数：nodes</p>
			<p>要过滤的节点数组</p>
			<p>第二个参数：closeicon</p>
			<p>关闭的图标url（String）</p>
			<p>第三个参数：openicon</p>
			<p>打开的图标url（String）</p>
            <p>Returns:</p> 
            <p>{string} 此方法的返回值为treeNode树节点对象数组</p>
            <p>Example:</p>
            <p>返回可见节点</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="setNodeIcondiv">
			<h2>void setNodeIcon(node, closeicon, openicon,childrenCount)</h2>
			<p>设置节点的图标</p>
			<p>Parameters:</p>
			<p>第一个参数：node</p>
			<p>要过滤的节点数组</p>
			<p>第二个参数：closeicon</p>
			<p>关闭的图标url（String）</p>
			<p>第三个参数：openicon</p>
			<p>打开的图标url（String）</p>
			<p>第四个参数：childrenCount</p>
			<p>当前节点的孩子个数</p>
            <p>Returns:</p> 
            <p>此方法的返回值为void</p>
            <p>Example:</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="listenTreediv">
			<h2>void listenTree(context, mVisibleNodes, mAllNOdes, tree, closeicon, openicon)</h2>
			<p>设置节点的单击事件监听</p>
			<p>Parameters:</p>
			<p>第一个参数：context</p>
			<p>创建树的div（String）</p>
			<p>第二个参数：mVisibleNodes</p>
			<p>可见的节点数组（Arry）</p>
			<p>第三个参数：mAllNOdes</p>
			<p>加载的节点数组（Arry）</p>
			<p>第四个参数：tree</p>
			<p>当前树对象</p>
			<p>第五个参数：closeicon</p>
			<p>关闭的图标url（String）</p>
			<p>第六个参数：openicon</p>
			<p>打开的图标url（String）</p>
            <p>Returns:</p> 
            <p>此方法的返回值为void</p>
            <p>Example:</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="showTreediv">
			<h2>void showTree=function(node,tree)</h2>
			<p>设置节点展开事件</p>
			<p>Parameters:</p>
			<p>第一个参数：node</p>
			<p>树节点对象</p>
			<p>第二个参数：tree</p>
			<p>当前树对象</p>
            <p>Returns:</p> 
            <p>设置节点的展开方法</p>
            <p>Example:</p>
		</div>
		<div style="HEIGHT: 20px"></div>
		<hr >
		<div style="HEIGHT: 20px"></div>
		<div id="closeTreediv">
			<h2>void closeTree(node, tree)</h2>
			<p>设置节点关闭事件</p>
			<p>Parameters:</p>
			<p>第一个参数：node</p>
			<p>树节点对象</p>
			<p>第二个参数：tree</p>
			<p>当前树对象</p>
            <p>Returns:</p> 
            <p>设置节点的关闭状态，并收起当前节点的所有孩子元素</p>
            <p>Example:</p>
		</div>
		
		<div>
  <a name="event:onClick" id="event:onClick"></a><br/>
  <STRONG>onClick</STRONG>(event, treeId, node)<BR>
  <STRONG>[回调型事件]</STRONG>单击节点事件<br/>
  <DL>
    <DT>Parameters:   
    <DT><strong>event</strong>
    <DD>配置:<BR>
    var  setting = { ... ,callback : {
		onClick : treeselected
	}
	}；</DD>
  </DL>
  <br/>
  </p>
  <hr/>
</div>
	</body>

</html>